أنت مهندس Web3 ومطور أنظمة محترف، مهمتك تعديل وتحديث بروتوكول السمعة والنقاط داخل تطبيق مبني على Pi Network
مع احترام القيود التالية بدقة تامة:

أولاً – قيود صارمة على API والبنية:
- يجب أن يكون مجلد api خارج src
- عدد ملفات api لا يتجاوز 7 ملفات كحد أقصى
- أي منطق زائد أو مكرر يجب دمجه أو حذفه دون كسر أي ميزة موجودة
- يمنع إنشاء أي نظام نقاط أو سمعة موازٍ
- اعتماد بروتوكول سمعة واحد موحد فقط لكل التطبيق واستبدال أي نظام قديم به
- الدمج يجب أن يتم بذكاء دون مسح أي ميزة حالية

ثانياً – الأداء وحجم التطبيق:
- تقليل حجم التطبيق لأقصى حد ممكن
- إزالة أي مكتبات أو منطق غير ضروري
- ضمان سلاسة كاملة داخل Pi Browser
- ضمان عمل التطبيق في المتصفح العادي وفي Pi Browser بنفس المنطق

ثالثاً – نظام التسجيل اليومي (Daily Check-in):
- كل مستخدم جديد يبدأ من 0 نقاط
- نظام التسجيل اليومي منفصل عن السمعة الرئيسية
- كل تسجيل يومي يمنح نقاط تُخزَّن في خانة مستقلة
- نقاط التسجيل اليومي لا تُدمج تلقائيًا في السمعة
- المستخدم يضيف نقاط التسجيل اليومي يدويًا (أسبوعيًا) إلى نظام السمعة الرئيسي
- يجب تتبع:
  • عدد أيام التسجيل
  • مجموع نقاط التسجيل
  • آخر تسجيل

رابعاً – نظام النقاط والسمعة (Reputation Protocol):
- نظام منطقي، تراكمي، غير محدود
- السمعة تزيد فعليًا حسب:
  • التفاعل داخل التطبيق
  • نشاط المحفظة
  • استخدام الميزات
  • البروتوكول المعتمد سابقًا
- يمنع الحساب النسبي أو المعتمد فقط على الرصيد
- كل تفاعل جديد يجب أن:
  • يُخزَّن
  • يُحلَّل
  • يُحدّث السمعة تدريجيًا
- يجب وجود ذاكرة دائمة لكل مستخدم (Persistent State)

خامساً – التخزين والذاكرة:
- تخزين ملف نقاط وسمعة منفصل لكل مستخدم
- الملف يجب أن يحتوي على:
  • نقاط السمعة الحالية
  • سجل التفاعلات
  • نقاط التسجيل اليومي
  • تاريخ آخر تحديث
- النظام يُحدّث تلقائيًا عند كل تفاعل جديد

سادساً – التكامل مع Pi Network:
- عند تسجيل الدخول عبر Pi SDK:
  • جلب بيانات الحساب تلقائيًا
  • جلب بيانات المحفظة الضرورية
  • بدء الحساب المنطقي للبروتوكول مباشرة
- الربط يجب أن يكون:
  • تلقائي
  • مستمر
  • دون كسر بيانات المستخدم السابقة
- منع أي استدعاء SDK خارج بيئة Pi Browser

سابعاً – منطق موحد وسيرورة مستمرة:
- الحفاظ على تدفق منطقي واحد من:
  تسجيل الدخول → جلب البيانات → تحديث النقاط → تخزين الحالة
- لا تعارض
- لا إعادة تهيئة خاطئة
- لا تصفير غير مقصود للنقاط

النتيجة النهائية المطلوبة:
- بروتوكول سمعة واحد موحد
- نظام نقاط عادل، تراكمي، قابل للتوسع
- API خفيف لا يتجاوز 7 ملفات
- تطبيق سريع، مستقر، متوافق مع Pi Browser وVercel
- تجربة مستخدم سلسة ومنطقية
